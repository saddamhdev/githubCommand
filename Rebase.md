
 
 
 
 
 
 
 ржХрзЗржи ржЖржорж░рж╛ **`git rebase`** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ред

---

## **рззя╕ПтГг `git rebase` ржХрзА ржХрж░рзЗ?**

`rebase` ржорж╛ржирзЗ рж╣рж▓рзЛ тАФ ржЖржкржирж╛рж░ ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржХржорж┐ржЯржЧрзБрж▓рзЛржХрзЗ **ржирждрзБржи ржмрзЗрж╕** (рж╕рж╛ржзрж╛рж░ржгржд `main` ржмрзНрж░рж╛ржЮрзНржЪ) ржПрж░ ржЙржкрж░рзЗ **ржкрзБржирж░рж╛ржпрж╝ рж╕рж╛ржЬрж╛ржирзЛ**ред
ржПрждрзЗ ржоржирзЗ рж╣ржмрзЗ ржпрзЗржи ржЖржкржирж╛рж░ ржХрж╛ржЬ `main` ржПрж░ ржПржХржжржо рж╕рж░рзНржмрж╢рзЗрж╖ ржЖржкржбрзЗржЯрзЗрж░ ржкрж░ ржерзЗржХрзЗржЗ рж╢рзБрж░рзБ рж╣ржпрж╝рзЗржЫрж┐рж▓ред

---

## **рзия╕ПтГг ржХрзЗржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐?**

### **ржХ. ржкрж░рж┐рж╖рзНржХрж╛рж░ (linear) ржЗрждрж┐рж╣рж╛рж╕рзЗрж░ ржЬржирзНржп**

* `merge` ржХрж░рж▓рзЗ ржЗрждрж┐рж╣рж╛рж╕рзЗ **merge commit** рждрзИрж░рж┐ рж╣ржпрж╝, ржЕржирзЗржХ рж╕ржоржпрж╝ ржЗрждрж┐рж╣рж╛рж╕ ржЬржЯрж┐рж▓ рж╣ржпрж╝ред
* `rebase` ржХрж░рж▓рзЗ ржЗрждрж┐рж╣рж╛рж╕ рж╕рзЛржЬрж╛ рж╣ржпрж╝ тАФ ржпрзЗржи ржзрж╛рж░рж╛ржмрж╛рж╣рж┐ржХржнрж╛ржмрзЗ ржПржХрзЗрж░ ржкрж░ ржПржХ ржХржорж┐ржЯ рж╣ржпрж╝рзЗржЫрзЗред

```plaintext
merge history:
main ---o----o----M
           \      /
feature ----o----o

rebase history:
main ---o----o----o----o
```

---

### **ржЦ. Fast-forward merge рж╕ржорзНржнржм рж╣ржпрж╝**

* Rebase ржХрж░рж╛рж░ ржкрж░ `main` ржП merge ржХрж░рж▓рзЗ Git ржкрзНрж░рж╛ржпрж╝ржЗ **fast-forward** ржХрж░рзЗ (merge commit ржЫрж╛ржбрж╝рж╛ рж╕рж░рж╛рж╕рж░рж┐ ржмрзНрж░рж╛ржЮрзНржЪ ржПржЧрж┐ржпрж╝рзЗ ржжрзЗржпрж╝)ред
* ржПрждрзЗ ржЗрждрж┐рж╣рж╛рж╕рзЗ ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ merge commit ржЖрж╕рзЗ ржирж╛ред

---

### **ржЧ. ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржПржХржмрж╛рж░рзЗржЗ ржорзЗржЯрж╛ржирзЛ ржпрж╛ржпрж╝**

* Rebase ржХрж░рж▓рзЗ ржЖржкржирж┐ `main` ржПрж░ рж╕рж╛ржерзЗ **ржПржХржмрж╛рж░ржЗ** ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рж┐ржЬрж▓ржн ржХрж░рзЗржиред
* Merge ржХрж░рж▓рзЗ ржПржХрж╛ржзрж┐ржХржмрж╛рж░ ржХржиржлрзНрж▓рж┐ржХрзНржЯ рж░рж┐ржЬрж▓ржн ржХрж░рждрзЗ рж╣рждрзЗ ржкрж╛рж░рзЗ ржпржжрж┐ ржмрж╛рж░ржмрж╛рж░ `main` merge ржХрж░рждрзЗ рж╣ржпрж╝ред

---

## **рзйя╕ПтГг ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржЙржЪрж┐ржд?**

* ржирж┐ржЬрзЗрж░ рж▓рзЛржХрж╛рж▓ ржлрж┐ржЪрж╛рж░ ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ рж╕ржоржпрж╝ред
* ржпржЦржи ржЯрж┐ржорзЗ рж╕ржмрж╛ржЗ ржЬрж╛ржирзЗ ржПржмржВ ржорж╛ржирзЗ ржпрзЗ feature ржмрзНрж░рж╛ржЮрзНржЪрзЗ force-push (`--force-with-lease`) ржХрж░рж╛ ржпрж╛ржмрзЗред
* ржпржЦржи ржЖржкржирж┐ PR ржкрж╛ржарж╛ржирзЛрж░ ржЖржЧрзЗ ржЖржкржирж╛рж░ ржмрзНрж░рж╛ржЮрзНржЪржХрзЗ `main` ржПрж░ рж╕рж╛ржерзЗ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржЪрж╛ржиред

---

## **рзкя╕ПтГг ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржЙржЪрж┐ржд ржиржпрж╝?**

* **Shared / main / release ржмрзНрж░рж╛ржЮрзНржЪрзЗ** тАФ ржХрж╛рж░ржг rebase ржЗрждрж┐рж╣рж╛рж╕ ржмржжрж▓рзЗ ржжрзЗржпрж╝ред
* ржпржЦржи ржЕржирзНржп ржХрзЗржЙ ржПржХржЗ ржмрзНрж░рж╛ржЮрзНржЪрзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗред

---

ЁЯТб **рж╕рж╣ржЬ ржнрж╛рж╖рж╛ржпрж╝:**
`rebase` = ржЗрждрж┐рж╣рж╛рж╕ ржкрж░рж┐рж╖рзНржХрж╛рж░ рж░рж╛ржЦрж╛, ржлрж┐ржЪрж╛рж░ ржмрзНрж░рж╛ржЮрзНржЪржХрзЗ рж╕рж░рзНржмрж╢рзЗрж╖ `main` ржПрж░ рж╕рж╛ржерзЗ рж╕рж╛ржЬрж╛ржирзЛ, merge commit ржПржбрж╝рж╛ржирзЛред
`merge` = ржЗрждрж┐рж╣рж╛рж╕ ржЕржкрж░рж┐ржмрж░рзНрждрж┐ржд рж░рж╛ржЦрж╛, ржирж┐рж░рж╛ржкржж, рждржмрзЗ merge commit ржпрзЛржЧ рж╣ржпрж╝ред

---






in rebase create extra commit?

ржирж╛ тАФ рж╕рж╛ржзрж╛рж░ржгржд **`git rebase`** ржирждрзБржи (extra) commit рждрзИрж░рж┐ ржХрж░рзЗ ржирж╛, ржмрж░ржВ ржЖржкржирж╛рж░ ржмрзНрж░рж╛ржЮрзНржЪрзЗрж░ ржкрзБрж░рзЛржирзЛ commit ржЧрзБрж▓рзЛржХрзЗ **ржирждрзБржи base commit ржПрж░ ржЙржкрж░ тАЬreplayтАЭ** ржХрж░рзЗред

рждржмрзЗ ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржХрж┐ржЫрзБ ржЬрж┐ржирж┐рж╕ ржоржирзЗ рж░рж╛ржЦрж╛ ржжрж░ржХрж╛рж░:

---

### **рззя╕ПтГг Rebase ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ**

* ржзрж░рзБржи ржЖржкржирж╛рж░ `feature` ржмрзНрж░рж╛ржЮрзНржЪрзЗ рзйржЯрж┐ commit ржЖржЫрзЗ, ржЖрж░ `main` ржП ржирждрзБржи ржХрж┐ржЫрзБ commit ржПрж╕рзЗржЫрзЗред
* ржЖржкржирж┐ `git rebase main` ржЪрж╛рж▓рж╛рж▓рзЗ:

  1. Git ржкрзНрж░ржержорзЗ ржЖржкржирж╛рж░ рзйржЯрж┐ commit тАЬржЖрж▓рж╛ржжрж╛тАЭ ржХрж░рзЗ рж░рж╛ржЦрзЗред
  2. `feature` ржмрзНрж░рж╛ржЮрзНржЪржХрзЗ `main` ржПрж░ рж╕рж░рзНржмрж╢рзЗрж╖ commit ржП рж╕рж░рж┐ржпрж╝рзЗ ржжрзЗржпрж╝ред
  3. рждрж╛рж░ржкрж░ ржЖржкржирж╛рж░ рж╕рзЗржЗ рзйржЯрж┐ commit **ржкрзБржирж░рж╛ржпрж╝ ржкрзНрж░ржпрж╝рзЛржЧ** (apply) ржХрж░рзЗ тАФ ржпрзЗржи ржПржЦржиржЗ ржЖржкржирж┐ ржПржЧрзБрж▓рзЛ рж▓рж┐ржЦрзЗржЫрзЗржиред
* ржкрзНрж░рждрж┐ржЯрж┐ commit ржПрж░ **ржирждрзБржи SHA** рж╣ржмрзЗ, ржХрж╛рж░ржг commit history rewrite рж╣ржпрж╝ред

---

### **рзия╕ПтГг Extra commit ржХржмрзЗ рж╣рждрзЗ ржкрж╛рж░рзЗ**

* **ржирж╛** тЖТ ржпржжрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ rebase ржХрж░рзЗржи, extra commit рж╣ржпрж╝ ржирж╛, рж╢рзБржзрзБ SHA ржмржжрж▓рж╛ржпрж╝ред
* **рж╣рзНржпрж╛ржБ** тЖТ ржпржжрж┐ rebase ржПрж░ рж╕ржоржпрж╝ `squash`, `fixup`, ржмрж╛ ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ рж╕ржорж╛ржзрж╛ржи ржХрж░рзЗ ржирждрзБржи commit рждрзИрж░рж┐ ржХрж░рзЗржи, рждржЦржи commit рж╕ржВржЦрзНржпрж╛ ржмржжрж▓рж╛рждрзЗ ржкрж╛рж░рзЗред
* **рж╣рзНржпрж╛ржБ** тЖТ rebase ржПрж░ ржкрж░рзЗ main ржП merge ржХрж░рж▓рзЗ merge commit рж╣рждрзЗ ржкрж╛рж░рзЗ, ржпржжрж┐ fast-forward рж╕ржорзНржнржм ржирж╛ рж╣ржпрж╝ (ржпрзЗржоржи: protected branch ржмрж╛ conflict scenario)ред

---

### **рзйя╕ПтГг Merge ржПрж░ рж╕рж╛ржерзЗ ржкрж╛рж░рзНржержХрзНржп**

* **Merge** тЖТ ржЖрж▓рж╛ржжрж╛ merge commit рждрзИрж░рж┐ рж╣ржпрж╝ (ржпржжрж┐ fast-forward ржирж╛ рж╣ржпрж╝)ред
* **Rebase** тЖТ merge commit ржПржбрж╝рж┐ржпрж╝рзЗ linear history рждрзИрж░рж┐ ржХрж░рзЗ, commit рж╕ржВржЦрзНржпрж╛ ржЕржкрж░рж┐ржмрж░рзНрждрж┐ржд ржерж╛ржХрзЗ (ржпржжрж┐ squash ржирж╛ ржХрж░рзЗржи)ред

---



